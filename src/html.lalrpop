use std::str;
use crate::ast::{Element};

grammar;

pub Html: Box<Element> = {
    Tag
}

pub Tag: Box<Element> = {
    <t:Text> => {
        let mut text_elem = Box::new(Element::new(String::from("text")));
        text_elem.text = t;
        text_elem
    },
    "<" <t:ElementName> ">" <child:Tag> "</" <s:ElementName> ">" => {
        if t != s {
            return Box::new(Element::new(String::from("error")));
        }
        let mut elem = Box::new(Element::new(t));
        elem.children = vec![child];
        return elem;
    },
}

ElementName: String = {
    r"[a-z]+" => format!("{}", <>)
}

Text: String = {
    r"[a-z]+" => format!("{}", <>)
}
